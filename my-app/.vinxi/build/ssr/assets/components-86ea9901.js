import{ssrElement as m,mergeProps as C}from"solid-js/web";import{createContext as l,createMemo as r,useContext as f,mergeProps as g,splitProps as v}from"solid-js";const P=/^\/+|(\/)\/+$/g;function u(t,n=!1){const e=t.replace(P,"$1");return e?n||/^[?#]/.test(e)?e:"/"+e:""}function R(t,n){if(t==null)throw new Error(n);return t}const x=l(),w=l(),o=()=>R(f(x),"Make sure your app is wrapped in a <Router />"),L=()=>f(w)||o().base,b=t=>{const n=L();return r(()=>n.resolvePath(t()))},O=t=>{const n=o();return r(()=>{const e=t();return e!==void 0?n.renderPath(e):e})},$=()=>o().location;function y(t){t=g({inactiveClass:"inactive",activeClass:"active"},t);const[,n]=v(t,["href","state","class","activeClass","inactiveClass","end"]),e=b(()=>t.href),h=O(e),d=$(),s=r(()=>{const a=e();if(a===void 0)return!1;const c=u(a.split(/[?#]/,1)[0]).toLowerCase(),i=u(d.pathname).toLowerCase();return t.end?c===i:i.startsWith(c)});return m("a",C(n,{get href(){return h()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!s(),[t.activeClass]:s(),...n.classList}},link:!0,get"aria-current"(){return s()?"page":void 0}}),void 0,!0)}export{y as A};
